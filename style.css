const phrases = ["host de podcasts.", "editor creativo.", "periodista cultural."];
let i = 0, j = 0, isDeleting = false;
const target = document.getElementById('typewriter');

function type() {
    let current = phrases[i];
    target.textContent = isDeleting ? current.substring(0, j--) : current.substring(0, j++);
    if (!isDeleting && j > current.length) { isDeleting = true; setTimeout(type, 2000); }
    else if (isDeleting && j === 0) { isDeleting = false; i = (i + 1) % phrases.length; setTimeout(type, 500); }
    else { setTimeout(type, isDeleting ? 50 : 100); }
}

// AQUÍ ESTÁN TUS PROYECTOS REALES
const projects = [
    {
        title: "València Destroy",
        category: "podcast",
        tag: "Podium Podcast / Serie Documental",
        description: "La historia no contada de la Ruta del Bakalao. Un viaje sonoro premiado y referente en el podcasting español.",
        image: "https://www.podiumpodcast.com/wp-content/uploads/2017/10/VALENCIA-DESTROY_1400x1400.jpg",
        link: "https://www.podiumpodcast.com/podcasts/valencia-destroy-podium-os/"
    },
    {
        title: "Entrevista: El éxito y la terapia",
        category: "prensa",
        tag: "El País / Entrevista",
        description: "Conversación con el influencer Ger sobre el lado oscuro de la fama y la salud mental.",
        image: "", // Dejamos vacío para ver cómo queda sin imagen
        link: "https://elpais.com/autor/eugenio-vinas-serrano/"
    },
    {
        title: "¿Y si las playas desaparecen?",
        category: "podcast",
        tag: "El País / Audio",
        description: "Un análisis sobre el futuro de la costa mediterránea frente al cambio climático.",
        image: "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=800",
        link: "#"
    },
    {
        title: "Máster de Podcast",
        category: "podcast",
        tag: "Formación / Barreira A+D",
        description: "Director del primer máster especializado en creación y producción de audio digital.",
        image: "https://images.unsplash.com/photo-1478737270239-2f02b77fc618?w=800",
        link: "#"
    }
];

const grid = document.getElementById('portfolio-grid');

function render(filter = 'all') {
    grid.innerHTML = "";
    projects.forEach(p => {
        if (filter === 'all' || p.category === filter) {
            // Si no hay imagen, usamos un estilo especial 'no-img'
            const imgHtml = p.image 
                ? `<img src="${p.image}" class="project-img" alt="${p.title}">` 
                : `<div class="no-img"></div>`;
            
            grid.innerHTML += `
                <a href="${p.link}" class="project-card">
                    ${imgHtml}
                    <span class="tag">${p.tag}</span>
                    <h2>${p.title}</h2>
                    <p>${p.description}</p>
                </a>
            `;
        }
    });
}

// Lógica de los botones de filtro
document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', (e) => {
        document.querySelector('.active').classList.remove('active');
        e.target.classList.add('active');
        render(e.target.dataset.filter);
    });
});

type();
render();
